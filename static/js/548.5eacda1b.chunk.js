(self.webpackChunkmia_erp=self.webpackChunkmia_erp||[]).push([[548,495],{2483:function(e,n,t){"use strict";t.d(n,{j:function(){return f}});var i,o,a=t(168),r=t(1413),l=t(4781),d=t(2791),u=t(3350),c=t(8095),s=t(3329),v=(0,d.createContext)({}),f=function(e){var n=(0,l.on)(),t=(0,d.useCallback)((function(e){return function(t){t.target===t.currentTarget&&n.remove(e)}}),[n]),i=(0,d.useMemo)((function(){return n.getStack().map((function(e,i){var o=e.RenderComponent,a=e.props,l=e.id;return(0,s.jsx)(p,{className:"overlay-".concat(l),style:{zIndex:20+i},fillHeight:!0,fillWidth:!0,alignItems:"flex-end",onClick:t(l),children:(0,s.jsx)(v.Provider,{value:{onClose:function(){n.remove(l)},compId:l,index:i},children:(0,s.jsx)(o,(0,r.Z)((0,r.Z)({},a),{},{onClose:function(){n.remove(l)},compId:l,index:i}),"overlay-".concat(l))})},"overlay-".concat(l))}))}),[t,n]);return(0,s.jsx)(h,{fillWidth:!0,fillHeight:!0,isActive:i.length>0,overflow:"hidden",children:i})},h=(0,u.ZP)(c.ZP)(i||(i=(0,a.Z)(["\n  position: absolute;\n\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 200;\n\n  left: ",";\n\n  opacity: ",";\n  visibility: ",";\n  pointer-events: ",";\n\n  background-color: ",";\n\n  transition: all ",";\n"])),(function(e){return e.isActive?0:"100%"}),(function(e){return e.isActive?1:0}),(function(e){return e.isActive?"visible":"hidden"}),(function(e){return e.isActive?"all":"none"}),(function(e){return e.theme.backdropColorDark}),(function(e){return e.theme.globals.timingFunctionMain})),p=(0,u.ZP)(c.ZP)(o||(o=(0,a.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 20;\n\n  max-width: 360px;\n\n  height: 100%;\n\n  animation: TransformFromRight;\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"])))},4781:function(e,n,t){"use strict";t.d(n,{on:function(){return c}});var i=t(1413),o=t(3433),a=t(9439),r=t(2791),l=t(6382),d=t(3329),u=(0,r.createContext)({}),c=function(){return(0,r.useContext)(u)};n.ZP=function(e){var n=e.children,t=(0,r.useState)([]),c=(0,a.Z)(t,2),s=c[0],v=c[1],f=(0,r.useCallback)((function(e){v((function(n){return n.filter((function(n){return n.id!==e}))}))}),[]),h=(0,r.useCallback)((function(){v([])}),[]),p=(0,r.useCallback)((function(e){var n="".concat(e.RenderComponent.name,"_").concat((0,l.x0)(8));return"function"===typeof e.RenderComponent&&v((function(t){var a=t.find((function(n){return n.id.includes(e.RenderComponent.name)}));if(a){var r=t.filter((function(e){var n,t;return(null===(n=e.RenderComponent)||void 0===n?void 0:n.name)!==(null===(t=a.RenderComponent)||void 0===t?void 0:t.name)}));return[].concat((0,o.Z)(r),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])}return[].concat((0,o.Z)(t),[(0,i.Z)((0,i.Z)({},e),{},{id:n})])})),{onClose:function(){return f(n)},compId:n}}),[f]),m={getStack:function(){return s},remove:f,clearStack:h,open:p,create:function(e,n){return p({RenderComponent:e,props:n})}};return(0,d.jsx)(u.Provider,{value:m,children:n})}},6548:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return qe}});var i,o=t(168),a=t(9439),r=t(2791),l=t(3350),d=t(8495),u=t(6146),c=t(2989),s=t(4781),v=t(8095),f=t(7348),h=t(1819),p=t(2483),m=t(1251),x=t(2928),g=t(3544),b=t(1500),P=t(9953),Z=t(4925),C=t(6744),w=t(6753),y=t(4240),j=t(6492),D=t(3329),S=function(e){var n=e.cell,t=e.data,i=(0,r.useMemo)((function(){var e,n,i,o,a,r=null===t||void 0===t?void 0:t.customer;return[{label:(0,g.t)("First name"),value:null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.first,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,g.t)("Second name"),value:null===r||void 0===r||null===(n=r.name)||void 0===n?void 0:n.second,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,g.t)("Middle name"),value:null===r||void 0===r||null===(i=r.name)||void 0===i?void 0:i.middle,visible:"company"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,g.t)("Base label"),value:null===r||void 0===r||null===(o=r.name)||void 0===o?void 0:o.first,visible:"person"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,g.t)("Print"),value:null===r||void 0===r||null===(a=r.name)||void 0===a?void 0:a.second,visible:"person"!==(null===r||void 0===r?void 0:r.businessType)},{label:(0,g.t)("Email"),value:null===r||void 0===r?void 0:r.email,visible:!0},{label:(0,g.t)("Phone"),value:null===r||void 0===r?void 0:r.phone,visible:!0},{label:(0,g.t)("Business type"),value:null===r||void 0===r?void 0:r.businessType,visible:!0},{label:(0,g.t)("Sex type"),value:null===r||void 0===r?void 0:r.sexType,visible:!0},{label:(0,g.t)("Engagement type"),value:null===r||void 0===r?void 0:r.engagementSource,visible:!0},{label:(0,g.t)("Age"),value:null===r||void 0===r?void 0:r.age,visible:!0},{label:(0,g.t)("Tags"),value:null,visible:!0}].map((function(e){var n;return e.visible&&(0,D.jsxs)(v.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(j.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,D.jsx)(j.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,g.t)("undefined")})]},e.label)}))}),[null===t||void 0===t?void 0:t.customer]);return(0,D.jsxs)(w.b.Cell,{children:[(null===n||void 0===n?void 0:n.title)&&(0,D.jsx)(y.z,{title:null===n||void 0===n?void 0:n.title}),i]})},I=["CellComponent"],k=function(e){return e.General="General",e.Customer="Customer",e.Invoicing="Invoicing",e.Delivery="Delivery",e.Additional="Additional",e}(k||{}),B=(0,b.Dl)(k),T=(0,l.ZP)(v.ZP)(i||(i=(0,o.Z)([""]))),_=function(e){var n=(0,s.on)(),t=(0,f.xA)().currentOrder,i=(0,r.useState)(k.General),o=(0,a.Z)(i,2),l=o[0],d=o[1],u=function(){var e={};return z.forEach((function(n){var t,i=n.tab;i&&(e[i]?null===(t=e[i])||void 0===t||t.push(n):e[i]=[n])})),e}(),c=(0,r.useMemo)((function(){var e;return u[l]?null===(e=u[l])||void 0===e?void 0:e.map((function(e){var i=e.CellComponent,o=(0,Z.Z)(e,I);return i?(0,D.jsx)(i,{overlayHandler:n.open,cell:o,data:t},o.title):(0,D.jsx)(C.U,{overlayHandler:n.open,cell:o,data:t},o.title)})):null}),[u,l,n.open,t]);return(0,D.jsxs)(T,{fillWidth:!0,flex:1,overflow:"auto",children:[(0,D.jsx)(P.Z,{optionProps:{fitContentH:!0},options:B,onOptSelect:function(e){(null===e||void 0===e?void 0:e.value)&&d(null===e||void 0===e?void 0:e.value)}}),(0,D.jsx)(v.ZP,{overflow:"hidden",children:(0,D.jsx)(v.ZP,{overflow:"auto",children:c})})]})},z=[{title:(0,g.t)("Manager"),getValue:function(e){var n,t;return null===e||void 0===e||null===(n=e.manager)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email},tab:k.General},{title:(0,g.t)("Reference"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.internal},tab:k.General},{title:(0,g.t)("Group reference"),getValue:function(e){var n,t;return null===e||void 0===e||null===(n=e.group)||void 0===n||null===(t=n.reference)||void 0===t?void 0:t.internal},tab:k.General},{title:(0,g.t)("Group strategy"),getValue:function(e){var n;return null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.strategy},tab:k.General},{title:(0,g.t)("Totals"),CellComponent:function(e){var n,t,i=e.data,o=e.cell,a=(0,r.useMemo)((function(){var e,n;return[{label:(0,g.t)("Amount"),value:(0,b.__)(null===i||void 0===i||null===(e=i.total)||void 0===e?void 0:e.amount)},{label:(0,g.t)("Items count"),value:null===i||void 0===i||null===(n=i.total)||void 0===n?void 0:n.items}].map((function(e){return(0,D.jsxs)(v.ZP,{fxDirection:"row",padding:"6px",justifyContent:"space-between",fillWidth:!0,gap:8,children:[(0,D.jsx)(j.x,{$size:11,children:e.label}),(0,D.jsx)(w.b.CellText,{$weight:600,children:null===e||void 0===e?void 0:e.value})]})}))}),[null===i||void 0===i||null===(n=i.total)||void 0===n?void 0:n.amount,null===i||void 0===i||null===(t=i.total)||void 0===t?void 0:t.items]);return(0,D.jsxs)(w.b.Cell,{children:[(0,D.jsx)(y.z,{title:o.title}),a]})},tab:k.General},{title:(0,g.t)("Status"),getValue:function(e){return null===e||void 0===e?void 0:e.status},tab:k.General},{CellComponent:S,tab:k.Customer},{title:(0,g.t)("Receiver"),CellComponent:S,tab:k.Delivery},{title:(0,g.t)("Invoicing"),CellComponent:function(e){e.cell;var n,t=e.data,i=(0,r.useMemo)((function(){var e;return[{label:(0,g.t)("Count"),value:null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length}].map((function(e){var n;return(0,D.jsxs)(v.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(j.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,D.jsx)(j.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,g.t)("undefined")})]},e.label)}))}),[null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length]);return(0,D.jsxs)(w.b.Cell,{children:[(0,D.jsx)(y.z,{title:(0,g.t)("General info")}),i]})},tab:k.Invoicing},{title:(0,g.t)("Delivery"),CellComponent:function(e){e.cell;var n,t=e.data,i=(0,r.useMemo)((function(){var e;return[{label:(0,g.t)("Count"),value:null===t||void 0===t||null===(e=t.deliveries)||void 0===e?void 0:e.length}].map((function(e){var n;return(0,D.jsxs)(v.ZP,{fxDirection:"row",padding:"6px",gap:8,alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(j.x,{$size:11,children:null===e||void 0===e?void 0:e.label}),(0,D.jsx)(j.x,{$size:13,$weight:500,children:null!==(n=null===e||void 0===e?void 0:e.value)&&void 0!==n?n:(0,g.t)("undefined")})]},e.label)}))}),[null===t||void 0===t||null===(n=t.deliveries)||void 0===n?void 0:n.length]);return(0,D.jsxs)(w.b.Cell,{children:[(0,D.jsx)(y.z,{title:(0,g.t)("General info")}),i]})},tab:k.Delivery},{title:(0,g.t)("Additional"),tab:k.Additional}];var A,R,L,M,$,W,E,V,O,H,G=t(4165),U=t(5861),q=t(1413),F=t(51),Q=t(1484),J=(0,r.createContext)({}),K=function(){return(0,r.useContext)(J)},N=function(e){var n,t=e.children,i=(0,c.Zx)(),o=null===(n=(0,c.Zx)())||void 0===n?void 0:n.orderId,a=(0,f.xA)().currentOrder,l=(0,F.TL)(),d=(0,h.xc)()[h.EJ.orders],u=(0,r.useMemo)((function(){return(0,q.Z)((0,q.Z)({},a),{},{_origin:a,getSlots:function(){var e=(0,U.Z)((0,G.Z)().mark((function e(n){return(0,G.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o?l((0,Q.wV)((0,q.Z)((0,q.Z)({},n),{},{data:{params:{orderId:o}}}))):void 0);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getPayments:function(){var e=(0,U.Z)((0,G.Z)().mark((function e(n){return(0,G.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o?l((0,Q.JA)((0,q.Z)((0,q.Z)({},n),{},{data:{params:{orderId:o}}}))):void 0);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getInvoices:function(){var e=(0,U.Z)((0,G.Z)().mark((function e(n){return(0,G.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o?l((0,Q.qQ)((0,q.Z)((0,q.Z)({},n),{},{data:{params:{orderId:o}}}))):void 0);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getDeliveries:function(){var e=(0,U.Z)((0,G.Z)().mark((function e(n){return(0,G.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o?l((0,Q.vc)((0,q.Z)((0,q.Z)({},n),{},{data:{params:{orderId:o}}}))):void 0);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})}),[a,l,o]);return(0,r.useEffect)((function(){(!a||o&&o!==a._id)&&i.orderId&&d.getById({data:{params:{_id:o}}})}),[a,o,i.orderId,d]),(0,D.jsx)(J.Provider,{value:null!==u&&void 0!==u?u:{},children:t})},X=t(4942),Y=t(289),ee=t(1617),ne=r.forwardRef((function(e,n){e.permissionId;var t=e.onConnect,i=e.onConnectError,o=e.onJoin,a=e.onLeave,l=e.onTyping,d=e.chatId,u=(e.orderId,e.onSend),c=(0,F.TL)(),s=(0,r.useCallback)((function(){d&&ee.vl.handleJoin({data:{chatId:d}}),c((0,Y.Oy)({type:Y.Y.chat,status:!0}))}),[d,c]),v=(0,r.useCallback)((function(){c((0,Y.Oy)({type:Y.Y.chat,status:!1}))}),[c]);return(0,r.useEffect)((function(){var e=ee.vl.socketRef,n=null===e||void 0===e?void 0:e.connection;if(n){var r=[];return null!==n&&void 0!==n&&n.active?n.active&&s():null===e||void 0===e||e.connect(),r.push(null===e||void 0===e?void 0:e.onConnect((function(){t&&t(),s()}))),i&&r.push(e.onConnectError((function(e){i&&i(e),v()}))),l&&r.push(ee.vl.onTyping.onSuccess(l)),o&&r.push(ee.vl.onJoin.onSuccess(o)),a&&r.push(ee.vl.onLeave.onSuccess(a)),u&&r.push(ee.vl.onSend.onSuccess(u)),function(){r.forEach((function(e){return e()}))}}v()}),[d,c,s,v,t,i,o,a,u,l]),null})),te=t(2434),ie=t(9541),oe=t(7477),ae=t(7843),re=t(763),le=t(9846),de=t(5952),ue=function(e){var n=e.msg,t=e.isRequest;return(0,D.jsxs)(ce,{padding:"8px",gap:12,maxWidth:"80%",alignSelf:t?"flex-end":"flex-start",$isRequest:t,children:[(0,D.jsx)(j.x,{$align:"left",$lineHeight:1.55,$weight:500,children:n.text}),(0,D.jsx)(j.x,{$align:t?"right":"left",$weight:500,$size:10,children:n.createdAt?(0,le.Z)(new Date(n.createdAt),"dd.MM.yy hh:mm",{locale:de.Z}):""})]},n._id)},ce=(0,l.zo)(v.ZP)(A||(A=(0,o.Z)(["\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor})),se=t(1134),ve=t(4695),fe=t(6681),he=t(1329),pe=he.yup.object().shape({text:he.yup.string().required(),chatId:he.yup.string().uuid().required()}),me=function(e){var n=e.chatId,t=(e.onSubmit,(0,se.cI)({defaultValues:{chatId:n},resolver:(0,ve.X)(pe),reValidateMode:"onSubmit"})),i=t.watch,o=t.resetField,a=t.register,l=t.setValue,d=t.handleSubmit,u=(0,r.useRef)(),c=(0,F.TL)(),s=i();return(0,r.useEffect)((function(){n&&l("chatId",n)}),[n,l]),(0,D.jsxs)(v._0,{padding:"8px 8px 16px",fxDirection:"row",gap:12,alignItems:"center",onSubmit:d((function(e){c((0,te.ab)({data:{data:{data:e}},onSuccess:function(){o("text")}}))})),children:[(0,D.jsx)(fe.ZP,(0,q.Z)({$height:"100%"},a("text",{required:!0,onChange:function(){u.current||(u.current=!0,ee.vl.handleTyping({data:{status:!0,chatId:null!==n&&void 0!==n?n:""}}))},onBlur:function(){u.current=!1,ee.vl.handleTyping({data:{status:!1,chatId:null!==n&&void 0!==n?n:""}})}}))),(0,D.jsx)(x.ZP,{type:"submit",disabled:!s.text,variant:"filled",sizeType:"middle",children:"Send"})]})},xe=(0,l.ZP)(v.ZP)(R||(R=(0,o.Z)(["\n  flex-direction: column-reverse;\n  gap: 8px;\n  padding: 8px;\n\n  flex: 1;\n  overflow: auto;\n"]))),ge=function(e){var n=e.orderId,t=e.chatId,i=(0,f.hz)(),o=(0,F.TL)(),l=(0,c.Zx)().permissionId,d=(0,ie.J)(),u=(0,r.useState)((function(){var e=t||(n?i.keysMap[n]:void 0);return e?i.dataMap[e]:void 0})),s=(0,a.Z)(u,2),h=s[0],p=s[1],m=(0,r.useState)({}),x=(0,a.Z)(m,2),g=x[0],b=x[1],P=i.wsConnectionStatus,Z=function(e){o((0,te.Kz)({params:e,onLoading:d.onLoading("messages")}))},C=function(e){o((0,te.fE)({params:e,onLoading:d.onLoading("chat"),onSuccess:function(e){var n=e.data;p(n),Z({chatId:n._id})},onError:function(n){var t;(null===(t=n.response)||void 0===t?void 0:t.status)===oe.WE.NotFound&&e.orderId&&function(e){o((0,te.h)({params:e,onLoading:d.onLoading("chat"),onSuccess:function(e){var n=e.data;p(n),Z({chatId:n._id})}}))}({orderId:e.orderId})}}))},w=(0,r.useMemo)((function(){return Object.entries(g).map((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];return(0,D.jsx)(v.ZP,{$padding:"8px",children:(null===i||void 0===i?void 0:i.email)||(null===i||void 0===i?void 0:i.name)},t)}))}),[g]),y=(0,r.useMemo)((function(){var e=null===h||void 0===h?void 0:h._id;return e?i.messages.listsMap[e]:null}),[null===h||void 0===h?void 0:h._id,i.messages.listsMap]),j=(0,r.useMemo)((function(){return null===y||void 0===y?void 0:y.map((function(e){var n,t=!(null===(n=e.sender)||void 0===n||!n.user);return(0,D.jsx)(ue,{msg:e,isRequest:t},e._id)}))}),[y]);return(0,r.useEffect)((function(){if(t){var e=i.dataMap[t];e?(p(e),Z({chatId:t})):C({_id:t})}else n&&C({orderId:n})}),[t,n]),(0,D.jsxs)(v.ZP,{overflow:"hidden",flex:1,children:[(0,D.jsx)(ne,{chatId:null===h||void 0===h?void 0:h._id,onTyping:function(e){var n,t,i;e.data.member&&(e.data.status?function(e){b((function(n){return(0,q.Z)((0,q.Z)({},n),e)}))}((0,X.Z)({},null===(n=e.data.member)||void 0===n?void 0:n._id,{email:"email"})):(i=null===(t=e.data.member)||void 0===t?void 0:t._id,b((function(e){return(0,re.omit)(e,[i])}))))},onJoin:function(e){var n,t,i,o,a,r,d,u,c,s;(null===(n=e.data.member)||void 0===n?void 0:n._id)!==l&&ae.kl.info("".concat((null===(t=e.data)||void 0===t||null===(i=t.member)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.email)||(null===(a=e.data)||void 0===a||null===(r=a.member)||void 0===r||null===(d=r.customer)||void 0===d?void 0:d.email)||(null===(u=e.data)||void 0===u||null===(c=u.member)||void 0===c||null===(s=c.integration)||void 0===s?void 0:s.label)," joined to chat"))},onLeave:function(e){var n,t,i,o,a,r,d,u,c,s;(null===(n=e.data.member)||void 0===n?void 0:n._id)!==l&&ae.kl.info("".concat((null===(t=e.data)||void 0===t||null===(i=t.member)||void 0===i||null===(o=i.user)||void 0===o?void 0:o.email)||(null===(a=e.data)||void 0===a||null===(r=a.member)||void 0===r||null===(d=r.customer)||void 0===d?void 0:d.email)||(null===(u=e.data)||void 0===u||null===(c=u.member)||void 0===c||null===(s=c.integration)||void 0===s?void 0:s.label)," leaved to chat"))},onSend:function(e){var n,t,i;if((null===(n=e.data)||void 0===n||null===(t=n.member)||void 0===t?void 0:t._id)!==l){var a=null===(i=e.data.chat)||void 0===i?void 0:i._id;a&&o((0,Y.ue)({chatId:a,data:e.data}))}else console.log({permissionId:l,data:e})}}),(0,D.jsx)(xe,{children:j}),!(null===w||void 0===w||!w.length)&&(0,D.jsx)(v.ZP,{gap:12,padding:"8px 16px",children:w}),!P&&(0,D.jsx)(v.ZP,{padding:"16px",children:"Is not connected"}),(0,D.jsx)(me,{chatId:null===h||void 0===h?void 0:h._id})]})},be=function(e){var n=e.order;return(0,D.jsx)(ge,{orderId:null===n||void 0===n?void 0:n._id})},Pe=function(e){return e.Info="Info",e.Chat="Chat",e.Statuses="Statuses",e.Tasks="Tasks",e}({}),Ze=(0,b.H1)(Pe),Ce=function(e){return(0,D.jsxs)(je,{fxDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"8px 0",children:[(0,D.jsx)(x.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"edit",disabled:!(null!==e&&void 0!==e&&e.onEdit),onClick:null===e||void 0===e?void 0:e.onEdit}),(0,D.jsx)(De,{variant:"onlyIcon",size:"36px",iconSize:"85%",icon:"delete",disabled:!(null!==e&&void 0!==e&&e.onDelete),onClick:null===e||void 0===e?void 0:e.onDelete}),(0,D.jsxs)(v.ZP,{fxDirection:"row",gap:6,margin:"0 0 0 auto",children:[(0,D.jsx)(x.ZP,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"refresh",isLoading:null===e||void 0===e?void 0:e.isRefresh,disabled:!(null!==e&&void 0!==e&&e.onRefresh),onClick:null===e||void 0===e?void 0:e.onRefresh}),(0,D.jsx)(Se,{size:"36px",variant:"onlyIcon",iconSize:"85%",icon:"SmallArrowLeft",disabled:!(null!==e&&void 0!==e&&e.onOpenRightSide),onClick:null===e||void 0===e?void 0:e.onOpenRightSide})]})]})},we=(0,l.ZP)(v.ZP)(L||(L=(0,o.Z)(["\n  position: relative;\n  overflow: hidden;\n\n  background-color: ",";\n"])),(function(e){return e.theme.sideBarBackgroundColor})),ye=(0,l.ZP)(v.ZP)(M||(M=(0,o.Z)(["\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sideBarBorderColor}),(function(e){return e.theme.sideBarBorderColor})),je=(0,l.ZP)(v.ZP)($||($=(0,o.Z)([""]))),De=(0,l.ZP)(x.ZP)(W||(W=(0,o.Z)(["\n  fill: ",";\n"])),(function(e){return e.theme.globals.colors.error})),Se=(0,l.ZP)(x.ZP)(E||(E=(0,o.Z)(["\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]))),Ie=function(e){var n=(0,r.useState)(0),t=(0,a.Z)(n,2),i=t[0],o=t[1],l=K(),d=(0,c.xj)(),u=(0,r.useMemo)((function(){return Ze[i].value===Pe.Info?(0,D.jsx)(_,{order:l._origin}):Ze[i].value===Pe.Chat?(0,D.jsx)(be,{order:l._origin}):null}),[l._origin,i]);return(0,D.jsxs)(we,{flex:1,fillWidth:!0,padding:"0 8px",children:[(0,D.jsx)(m.xB,{title:(0,g.t)("Order overview"),onBackPress:function(){d.goBack()}}),(0,D.jsxs)(ye,{flex:1,fillWidth:!0,overflow:"auto",children:[(0,D.jsx)(P.Z,{options:Ze,optionProps:{fitContentH:!0},onOptSelect:function(e,n,t){return"number"===typeof t&&o(t)}}),(0,D.jsx)(v.ZP,{flex:1,overflow:"hidden",children:u}),![Pe.Chat].includes(Ze[i].value)&&(0,D.jsx)(Ce,{})]})]})},ke=(0,l.ZP)(v.ZP)(V||(V=(0,o.Z)(["\n  position: relative;\n\n  overflow: hidden;\n\n  border-right: 1px solid ",";\n"])),(function(e){return e.theme.modalBorderColor})),Be=function(e){var n=e.toggleRightSideVisibility,t=(0,f.xA)().currentOrder,i=(0,r.useState)(!1)[1],o=(0,h.xc)().orders;return(0,D.jsxs)(ke,{children:[(0,D.jsx)(Ie,{order:t,onRefresh:function(){(null===t||void 0===t?void 0:t._id)&&o.getById({data:{_id:null===t||void 0===t?void 0:t._id,options:{refreshCurrent:!0}},onLoading:i})},onOpenRightSide:n}),(0,D.jsx)(p.j,{})]})},Te=t(8839),_e=t(4897),ze=t(3383),Ae=function(e){var n=(0,r.useState)(),t=(0,a.Z)(n,2),i=t[0],o=t[1],l=(0,ie.J)(),d=K(),u=(0,r.useMemo)((function(){var e;return i?null===d||void 0===d||null===(e=d.slots)||void 0===e?void 0:e.filter((function(e){var n;return(null===(n=e.offer)||void 0===n?void 0:n.type)===i})):null===d||void 0===d?void 0:d.slots}),[null===d||void 0===d?void 0:d.slots,i]),c=(0,r.useMemo)((function(){return{actionsCreator:function(e){return[{icon:"refresh",name:"refresh",disabled:!d._id,onClick:function(){d.getSlots({onLoading:l.onLoading("refresh")})}}]}}}),[d,l]);return(0,r.useEffect)((function(){var e;null!==d&&void 0!==d&&null!==(e=d.slots)&&void 0!==e&&e.length||d.getSlots({onLoading:l.onLoading("refresh")})}),[]),(0,D.jsxs)(v.ZP,{fillWidth:!0,overflow:"hidden",flex:1,children:[(0,D.jsx)(v.ZP,{fillWidth:!0,children:(0,D.jsx)(P.Z,{options:ze.LC,defaultValue:i,preventDefault:!0,onResetPress:function(){o(void 0)},onOptSelect:function(e,n){o(n)}})}),(0,D.jsx)(Te.ZP,(0,q.Z)((0,q.Z)({hasSearch:!1,hasFilter:!1},c),{},{tableData:u,isLoading:l.isLoading.refresh,tableTitles:_e.$4}))]})},Re=t(7946),Le=function(e){var n=K(),t=(0,ie.J)(),i=(0,r.useMemo)((function(){return{actionsCreator:function(e){return[{name:"refresh",icon:"refresh",disabled:!n._id,onClick:function(){n.getInvoices({})}}]}}}),[n]);return(0,r.useEffect)((function(){null!==n&&void 0!==n&&n._id&&n.getInvoices({onLoading:t.onLoading("refresh")})}),[]),(0,D.jsx)(Te.ZP,(0,q.Z)((0,q.Z)({},i),{},{hasSearch:!1,hasFilter:!1,isLoading:t.isLoading.refresh,tableData:null===n||void 0===n?void 0:n.invoices,tableTitles:Re.x}))},Me=function(){return(0,D.jsx)(Te.ZP,{hasSearch:!1,hasFilter:!1})},$e=function(e){e.order;var n=K();return(0,r.useEffect)((function(){var e;null!==n&&void 0!==n&&null!==(e=n.deliveries)&&void 0!==e&&e.length||null===n||void 0===n||n.getDeliveries({})}),[n]),(0,D.jsx)(Te.ZP,{hasSearch:!1,hasFilter:!1,actionsCreator:function(){return[{title:"Refresh",icon:"refresh",onClick:function(){return n.getDeliveries({})}}]}})},We=t(7121),Ee=function(e){return e.Content="Content",e.Invoices="Invoices",e.Payments="Payments",e.Deliveries="Deliveries",e}(Ee||{}),Ve=(0,b.H1)(Ee),Oe=(0,l.ZP)(v.ZP)(O||(O=(0,o.Z)(["\n  overflow: auto;\n\n  max-width: 100%;\n\n  transition: ",";\n  background-color: ",";\n\n  @media screen and (min-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media screen and (max-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 20;\n\n    transform: translateX(","%);\n\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.globals.timingFunctionMain}),(function(e){return e.theme.backgroundColorLight}),(function(e){return e.isVisible?0:100}),(function(e){return e.isVisible?"0 12px 26px rgba(0, 0, 0, 0.25)":""})),He=function(e){var n,t,i=e.toggleVisibility,o=e.isVisible,l=(0,f.xA)().currentOrder,d=(0,r.useState)(Ee.Content),u=(0,a.Z)(d,2),c=u[0],s=u[1],h=(0,r.useMemo)((function(){return c===Ee.Content?(0,D.jsx)(Ae,{}):c===Ee.Invoices?(0,D.jsx)(Le,{}):c===Ee.Payments?(0,D.jsx)(Me,{}):c===Ee.Deliveries?(0,D.jsx)($e,{}):void 0}),[c]);return(0,D.jsxs)(Oe,{overflow:"hidden",fillHeight:!0,isVisible:o,children:[o&&(0,D.jsx)(We.OX,{title:null!==(n=null===l||void 0===l||null===(t=l.reference)||void 0===t?void 0:t.internal)&&void 0!==n?n:(0,g.t)("undefined"),onBackPress:i}),(0,D.jsx)(v.ZP,{children:(0,D.jsx)(P.Z,{options:Ve,defaultValue:c,onOptSelect:function(e,n,t){n&&s(n)},preventDefault:!0})}),(0,D.jsx)(v.ZP,{overflow:"hidden",flex:1,children:h})]})},Ge=t(7824),Ue=l.ZP.div(H||(H=(0,o.Z)(["\n  display: grid;\n  grid-template-columns: minmax(220px, 1fr) 0;\n\n  ",";\n\n  //@media screen and (max-width: 768px) {\n  //}\n  @media screen and (min-width: 768px) {\n    grid-template-columns: minmax(360px, 1fr) 2fr;\n  }\n  @media screen and (min-width: 1000px) {\n    grid-template-columns: minmax(360px, 400px) 2fr;\n  }\n"])),d.VU),qe=function(e){var n=e.path,t=(0,h.xc)()[Ge.d.orders],i=(0,r.useState)(!1),o=(0,a.Z)(i,2),l=o[0],d=o[1],v=(0,c.Zx)().orderId,f=function(){d((function(e){return!e}))};return(0,r.useEffect)((function(){v&&t.getById({data:{_id:v,options:{refreshCurrent:!0}}})}),[v,t]),(0,D.jsx)(u.vI,{path:n,children:(0,D.jsx)(N,{children:(0,D.jsx)(s.ZP,{children:(0,D.jsxs)(Ue,{children:[(0,D.jsx)(Be,{toggleRightSideVisibility:f}),(0,D.jsx)(He,{toggleVisibility:f,isVisible:l})]})})})})}},8495:function(e,n,t){"use strict";t.d(n,{SI:function(){return u},VU:function(){return d}});var i,o,a,r=t(168),l=t(3350),d=(0,l.iv)(i||(i=(0,r.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),u=(0,l.iv)(o||(o=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,l.iv)(a||(a=(0,r.Z)(["\n  outline: 1px solid tomato;\n"])))},6753:function(e,n,t){"use strict";t.d(n,{b:function(){return P}});var i,o,a,r,l,d,u,c=t(168),s=t(3350),v=t(8095),f=t(6492),h=s.ZP.button(i||(i=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n\n  border: 0;\n  background-color: transparent;\n\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 13px;\n  padding: 6px 10px;\n  color: ",";\n\n  cursor: pointer;\n\n  &[disabled] {\n    pointer-events: none;\n    color: ",";\n  }\n"])),(function(e){return e.theme.accentColor.base}),(function(e){return e.theme.modalBorderColor})),p=(0,s.ZP)(v.ZP)(o||(o=(0,c.Z)(["\n  //min-height: 70px;\n  height: max-content;\n  min-height: max-content;\n\n  padding: 0 8px 8px;\n  gap: 4px;\n\n  //overflow: hidden;\n\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"])),(function(e){return e.theme.sideBarBorderColor})),m=(0,s.ZP)(v.ZP)(a||(a=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n\n  padding: 4px 8px;\n  min-height: 28px;\n  color: #fcfcfc;\n\n  background-color: ",";\n\n  //background-color: #f1f1f1;\n\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fieldBackgroundColor}),(function(e){return e.theme.modalBorderColor})),x=(0,s.ZP)(f.x)(r||(r=(0,c.Z)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n\n  color: ",";\n"])),(function(e){return e.$isTitle||e.$disabled?e.theme.globals.inputPlaceholderColor:void 0})),g=(0,s.ZP)(v.ZP)(l||(l=(0,c.Z)(["\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n"]))),b=(0,s.ZP)(v.ZP)(d||(d=(0,c.Z)(["\n  justify-content: center;\n\n  border-radius: 2px;\n  padding: 4px 12px;\n  height: 28px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.fieldBackgroundColor})),P={CategoryItem:(0,s.ZP)(v.ZP)(u||(u=(0,c.Z)(["\n  align-items: center;\n  justify-content: center;\n\n  flex-direction: row;\n\n  padding: 4px 8px;\n\n  font-weight: 500;\n  font-size: 13px;\n  color: ",";\n\n  min-height: 28px;\n\n  border-radius: 2px;\n  //background-color: ",";\n  border: 1px solid ",";\n"])),(function(e){return e.theme.fontColorSidebar}),(function(e){return e.theme.field.backgroundColor}),(function(e){return e.theme.accentColor.base})),ImagesSetBox:g,CellText:x,Tag:m,HeaderButton:h,Cell:p,DefaultTag:b}},4240:function(e,n,t){"use strict";t.d(n,{z:function(){return l}});var i=t(3544),o=t(8095),a=(t(2791),t(6753)),r=t(3329),l=function(e){var n=e.title,t=void 0===n?"Title":n,l=e.openOverlayButtonTitle,d=void 0===l?(0,i.t)("Change"):l,u=e.onOpenOverlayPress,c=e.editButtonText,s=void 0===c?(0,i.t)("Change"):c,v=e.onEditPress,f=e.acceptButtonText,h=void 0===f?(0,i.t)("Ok"):f,p=e.onAcceptPress,m=e.editMode,x=void 0!==m&&m,g=e.canAccept,b=void 0!==g&&g,P=e.cancelButtonText,Z=void 0===P?(0,i.t)("Cancel"):P,C=e.onCancelPress;return(0,r.jsxs)(o.ZP,{fxDirection:"row",justifyContent:"space-between",height:"max-content",alignItems:"center",minHeight:"36px",padding:"4px 0",children:[(0,r.jsx)(a.b.CellText,{$isTitle:!0,$size:13,style:{marginRight:"auto"},children:t}),u&&(0,r.jsx)(a.b.HeaderButton,{type:"button",onClick:u,children:d}),!x&&v&&(0,r.jsx)(a.b.HeaderButton,{type:"button",onClick:v,children:s}),x&&C&&(0,r.jsx)(a.b.HeaderButton,{type:"button",onClick:C,children:Z}),x&&p&&(0,r.jsx)(a.b.HeaderButton,{type:"button",disabled:!b,onClick:p,children:h})]})}},6744:function(e,n,t){"use strict";t.d(n,{U:function(){return d}});var i=t(8095),o=t(3544),a=t(2791),r=t(6753),l=t(3329),d=function(e){var n=e.cell,t=e.data,d=(0,a.useMemo)((function(){return n.getValue?n.getValue(t):null}),[n,t]);return(0,l.jsxs)(r.b.Cell,{children:[(0,l.jsx)(r.b.CellText,{$isTitle:!0,$size:13,$padding:"6px 8px",children:null===n||void 0===n?void 0:n.title}),(0,l.jsx)(i.ZP,{fillWidth:!0,flex:1,fxDirection:"column",gap:8,justifyContent:"flex-end",alignItems:"flex-end",overflow:"hidden",style:{minHeight:32},children:!d||["string","number"].includes(typeof d)?(0,l.jsx)(r.b.CellText,{$isTitle:!d,$weight:500,children:d||(0,o.t)("undefined")}):d})]})}},1251:function(e,n,t){"use strict";t.d(n,{Qv:function(){return x},xB:function(){return g},ze:function(){return P}});var i,o,a,r=t(168),l=t(1413),d=t(4925),u=t(2928),c=t(8095),s=t(6492),v=t(3350),f=t(3544),h=t(763),p=t(3329),m=["onClose","onBackPress","title","showSubmitButton","canSubmit","renderTitle"],x=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error;return(0,p.jsx)("div",{children:"Error: ".concat(e)})},g=function(e){var n=e.onClose,t=e.onBackPress,i=e.title,o=e.showSubmitButton,a=e.canSubmit,r=e.renderTitle,v=(0,d.Z)(e,m);return(0,p.jsx)(b,(0,l.Z)((0,l.Z)({padding:"4px 0"},v),{},{gap:8,children:(0,p.jsxs)(c.ZP,{fillWidth:!0,fxDirection:"row",justifyContent:"space-between",alignItems:"stretch",height:"32px",children:[t&&(0,p.jsx)(u.ZP,{variant:"textExtraSmall",icon:"SmallArrowLeft",iconSize:"22px",padding:"0",style:{minWidth:"max-content",minHeight:"100%"},onClick:t||n,children:(0,f.t)("Back")}),r||(0,p.jsx)(c.ZP,{justifyContent:"center",overflow:"hidden",children:(0,p.jsx)(s.x,{$weight:600,$size:14,style:{textTransform:"uppercase",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:i})}),o&&(0,p.jsx)(u.ZP,{variant:"textExtraSmall",gap:"6px",type:o?"submit":"button",padding:"0 6px",endIcon:"done",endIconSize:"22px",style:{minWidth:"max-content",minHeight:"100%"},disabled:!a,children:"Ok"}),n&&(0,p.jsx)(u.ZP,{variant:"onlyIconNoEffects",icon:"close",iconSize:"95%",size:"24px",padding:"0",onClick:n})]})}))},b=(0,v.ZP)(c.ZP)(i||(i=(0,r.Z)(["\n  height: 32px;\n"]))),P=function(e){var n=e.submitButtonText,t=void 0===n?"\u041f\u0440\u0438\u0439\u043d\u044f\u0442\u0438":n,i=e.loading,o=e.extraFooter,a=e.canSubmit,r=e.onCreatePress,l=e.resetButtonShown,d=e.onAcceptPress,s=e.canAccept;return(0,p.jsxs)(Z,{fillWidth:!0,children:[o,(0,p.jsxs)(c.ZP,{padding:"8px 8px",fxDirection:"row",gap:8,alignItems:"center",children:[l&&(0,p.jsx)(u.ZP,{variant:"onlyIcon",icon:"clear",size:"36px",iconSize:"80%",type:"reset"}),r&&(0,p.jsx)(u.ZP,{variant:"onlyIcon",icon:"plus",size:"36px",iconSize:"80%",onClick:r}),(0,p.jsx)(u.ZP,{variant:"filledMiddle",flex:1,type:(0,h.isUndefined)(a)?"button":"submit",style:{padding:"0 12px"},textTransform:"uppercase",fontWeight:600,endIcon:"SmallArrowRight",endIconSize:"24px",disabled:(0,h.isUndefined)(a)?!s:!a,isLoading:i,onClick:d,children:t})]})]})},Z=(0,v.ZP)(c.ZP)(o||(o=(0,r.Z)([""])));v.ZP.form(a||(a=(0,r.Z)(["\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 480px;\n\n  padding: 0 8px;\n\n  background-color: ",";\n"])),(function(e){return e.theme.modalBackgroundColor}))},4897:function(e,n,t){"use strict";t.d(n,{Lq:function(){return p.L},SQ:function(){return u},E_:function(){return c},Dr:function(){return f},Cs:function(){return v},Y5:function(){return s},$4:function(){return h.$4},qo:function(){return h.qo},Qc:function(){return h.Qc},ni:function(){return h.ni},KS:function(){return h.KS}});var i=t(3544),o=t(3691),a=t(5481),r=t(1500),l=t(755),d=t(3299),u=((0,a.Gg)(o.Hb),(0,r.H1)(o.Hb)),c=[{label:"Preview",value:l.Q.img_preview,required:!0},{label:"1x",value:l.Q.img_1x},{label:"2x",value:l.Q.img_2x},{label:"Webp",value:l.Q.webp}],s=[{top:{name:(0,i.t)("label"),getData:function(e){return null===e||void 0===e?void 0:e.label}},getImgPreview:function(e){var n,t;return e.images?null===(n=e.images)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.img_preview:void 0},width:"270px",action:"dataWithAvatar"},{top:{name:(0,i.t)("sku"),getData:function(e){return null===e||void 0===e?void 0:e.sku}},bottom:{name:(0,i.t)("barCode"),getData:function(e){return null===e||void 0===e?void 0:e.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,i.t)("type"),path:"type"},width:"100px",action:"status"},{bottom:{name:(0,i.t)("status"),getData:function(e){return e.approved}},top:{name:(0,i.t)("Visibility"),getData:function(e){return e.visible?"visible":"hidden"}},width:"120px",action:"status"},{top:{name:(0,i.t)("Price OUT"),align:"end",getData:function(e){var n,t;return null!==(n=e.price)&&void 0!==n&&n.out?(0,d.pU)(null===(t=e.price)||void 0===t?void 0:t.out):"--.--"}},bottom:{name:(0,i.t)("Price IN"),align:"end",getData:function(e){var n,t;return null!==(n=e.price)&&void 0!==n&&n.in?(0,d.pU)(null===(t=e.price)||void 0===t?void 0:t.in):"--.--"}},width:"150px",action:"valueByPath"},{top:{name:(0,i.t)("Variation label"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.label)||"---"}},bottom:{name:(0,i.t)("SKU"),getData:function(e){var n;return(null===(n=e.variation)||void 0===n?void 0:n.sku)||"---"}},width:"190px",action:"valueByPath"},{top:{name:(0,i.t)("Warehouse"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,i.t)("Code"),getData:function(e){var n;return null===(n=e.warehouse)||void 0===n?void 0:n.code}},width:"150px",action:"valueByPath"},{top:{name:"\u0411\u0440\u0435\u043d\u0434",getData:function(e){var n;return null===(n=e.brand)||void 0===n?void 0:n.label}},bottom:{name:"\u0412\u0438\u0440\u043e\u0431\u043d\u0438\u043a",getData:function(e){var n;return null===(n=e.brand)||void 0===n?void 0:n.manufacturer}},width:"180px",action:"doubleDataWithAvatar"},{top:{name:"\u041e\u043d\u043e\u0432\u0438\u0432",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.editor)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},bottom:{name:"\u0410\u0432\u0442\u043e\u0440",getData:function(e){var n,t,i;return null!==(n=null===e||void 0===e||null===(t=e.author)||void 0===t||null===(i=t.user)||void 0===i?void 0:i.email)&&void 0!==n?n:"---"}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},bottom:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},width:"150px",action:"dateDbl"}];var v=[{dataPath:"sku",label:"SKU"},{dataPath:"label",label:(0,i.t)("Label")},{dataPath:"barCode",label:(0,i.t)("Bar-code")},{dataPath:"approved",label:(0,i.t)("Status")},{dataPath:"price.out",label:(0,i.t)("Price")},{dataPath:"createdAt",label:(0,i.t)("Created at")},{dataPath:"updatedAt",label:(0,i.t)("Updated at")},{dataPath:"deletedAt",label:(0,i.t)("Deleted at")},{dataPath:"brand.label",label:(0,i.t)("Brand label")},{dataPath:"warehouse.code",label:(0,i.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,i.t)("Warehouse label")}],f=[{dataPath:"sku",label:"SKU"},{dataPath:"label",label:(0,i.t)("Label")},{dataPath:"barCode",label:(0,i.t)("Bar-code")},{dataPath:"warehouse.code",label:(0,i.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,i.t)("Warehouse label")},{dataPath:"brand.label",label:(0,i.t)("Brand label")}],h=(t(4683),t(2517)),p=t(3857)},2517:function(e,n,t){"use strict";t.d(n,{$4:function(){return v},KS:function(){return f},Qc:function(){return h},ni:function(){return c},qo:function(){return p}});var i=t(3433),o=t(2973),a=t(3544),r=t(5481),l=t(6981),d=t(3299),u={top:{name:(0,a.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,a.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateDbl"},c=((0,r.Gg)(o.D),o.D.new,(0,a.t)(o.D.new),o.D.inWork,(0,a.t)(o.D.inWork),o.D.rejectedByCustomer,(0,a.t)(o.D.rejectedByCustomer),o.D.rejectedByManager,(0,a.t)(o.D.rejectedByManager),o.D.active,(0,a.t)(o.D.active),o.D.fulfilled,(0,a.t)(o.D.fulfilled),o.D.fulfilledWithRefund,(0,a.t)(o.D.fulfilledWithRefund),o.D.archived,(0,a.t)(o.D.archived),o.D.expired,(0,a.t)(o.D.expired),[{top:{name:"".concat((0,a.t)("Status")),getData:function(e){return e.status}},bottom:{name:(0,a.t)("Priority"),getData:function(e){return(0,a.t)("undefined")}},width:"150px",action:"status"},{top:{name:(0,a.t)("Total amount"),align:"end",getData:function(e){var n,t;return(0,d.pU)(null!==(n=null===(t=e.summary)||void 0===t?void 0:t.netto)&&void 0!==n?n:0)}},bottom:{name:(0,a.t)("Slots count"),align:"end",getData:function(e){var n,t;return(null===(n=e.slots)||void 0===n?void 0:n.length)||(null===(t=e.summary)||void 0===t?void 0:t.slotsCount)}},width:"120px",action:"numberWithSpaces"},{top:{name:(0,a.t)("Reference / Internal"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.internal}},bottom:{name:(0,a.t)("Reference / External"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.reference)||void 0===n?void 0:n.external}},width:"190px",action:"valueByPath"},{top:{name:(0,a.t)("Group"),getData:function(e){var n,t;return null===e||void 0===e||null===(n=e.group)||void 0===n||null===(t=n.reference)||void 0===t?void 0:t.internal}},bottom:{name:(0,a.t)("Strategy"),getData:function(e){var n;return null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.strategy}},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Customer"),getData:function(e){var n,t,i,o,a,r,l;return(null===(n=e.customer)||void 0===n?void 0:n.name)&&(null===(t=e.customer)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.customer)||void 0===o||null===(a=o.name)||void 0===a?void 0:a.second)||(null===(r=e.customer)||void 0===r?void 0:r.label)&&(null===(l=e.customer)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,a.t)("Phone"),path:"customer.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Receiver"),getData:function(e){var n,t,i,o,a,r,l;return(null===(n=e.receiver)||void 0===n?void 0:n.name)&&(null===(t=e.receiver)||void 0===t||null===(i=t.name)||void 0===i?void 0:i.first)+" "+(null===(o=e.receiver)||void 0===o||null===(a=o.name)||void 0===a?void 0:a.second)||(null===(r=e.receiver)||void 0===r?void 0:r.label)&&(null===(l=e.receiver)||void 0===l?void 0:l.label.base)||"--- ---"}},bottom:{name:(0,a.t)("Phone"),path:"receiver.phone"},width:"180px",action:"valueByPath"},{top:{name:(0,a.t)("Invoices")},width:"200px",action:"tags"},{top:{name:(0,a.t)("Payments")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("Deliveries")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("comment"),path:"comment"},width:"170px",action:"valueByPath"},{top:{name:(0,a.t)("Refunds")},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("Manager"),path:"manager.name"},bottom:{name:(0,a.t)("email"),path:"manager.email"},width:"180px",action:"valueByPath"},u]),s=["cashback","bonus","discount"];var v=[{top:{name:(0,a.t)("Offer label"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.label}},bottom:{name:(0,a.t)("Variation label"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.label}},action:"valueByPath",width:"210px"},{top:{name:(0,a.t)("Total amount"),getData:function(e){return e.netto}},bottom:{name:(0,a.t)("Total q-ty"),getData:function(e){return e.quantity}},action:"valueByPath",width:"125px"}].concat((0,i.Z)((0,l.yL)()),(0,i.Z)(s.map((function(e){return{top:{name:(0,a.t)(e),align:"end",getData:function(n){var t;return(0,d.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.amount)}},bottom:{name:(0,a.t)(e),align:"end",getData:function(n){var t;return(0,d.pU)(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.percentage)}},action:"valueByPath",width:"90px"}}))),[{top:{name:(0,a.t)("Offer sku"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.sku}},bottom:{name:(0,a.t)("Variation sku"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.sku}},action:"valueByPath",width:"150px"},{top:{name:(0,a.t)("Offer bar-code"),getData:function(e){var n;return null===(n=e.offer)||void 0===n?void 0:n.barCode}},bottom:{name:(0,a.t)("Variation bar-code"),getData:function(e){var n;return null===(n=e.variation)||void 0===n?void 0:n.barCode}},action:"valueByPath",width:"150px"},u]),f=v,h=[{dataPath:"reference.internal",label:(0,a.t)("Reference / Internal")},{dataPath:"reference.external",label:(0,a.t)("Reference / External")},{dataPath:"group.reference.internal",label:(0,a.t)("Reference / Internal")+" / ".concat((0,a.t)("Group").toLowerCase())},{dataPath:"group.reference.external",label:(0,a.t)("Reference / External")+" / ".concat((0,a.t)("Group").toLowerCase())},{dataPath:"barCode",label:(0,a.t)("Bar-code")},{dataPath:"status",label:(0,a.t)("Status")},{dataPath:"manager.email",label:(0,a.t)("Manager email")},{dataPath:"manager.code",label:(0,a.t)("Manager code")},{dataPath:"managers.email",label:(0,a.t)("Any managers email")},{dataPath:"managers.code",label:(0,a.t)("Any managers code")},{dataPath:"customer.email",label:(0,a.t)("Customer email")},{dataPath:"customer.phone",label:(0,a.t)("Customer phone")},{dataPath:"customer.name.first",label:(0,a.t)("Customer first name")},{dataPath:"customer.name.second",label:(0,a.t)("Customer second name")},{dataPath:"customer.reference",label:(0,a.t)("Customer reference")},{dataPath:"receiver.email",label:(0,a.t)("Customer email")},{dataPath:"receiver.phone",label:(0,a.t)("Customer phone")},{dataPath:"receiver.name.first",label:(0,a.t)("Customer first name")},{dataPath:"receiver.name.second",label:(0,a.t)("Customer second name")},{dataPath:"receiver.reference",label:(0,a.t)("Customer reference")},{dataPath:"warehouse.code",label:(0,a.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,a.t)("Warehouse label")},{dataPath:"createdAt",label:(0,a.t)("Created at")},{dataPath:"updatedAt",label:(0,a.t)("Updated at")},{dataPath:"deletedAt",label:(0,a.t)("Deleted at")}],p=[{dataPath:"reference.internal",label:(0,a.t)("Reference / Internal")},{dataPath:"reference.external",label:(0,a.t)("Reference / External")},{dataPath:"barCode",label:(0,a.t)("Bar-code")},{dataPath:"warehouse.code",label:(0,a.t)("Warehouse code")},{dataPath:"warehouse.label",label:(0,a.t)("Warehouse label")},{dataPath:"manager.email",label:(0,a.t)("Manager email")},{dataPath:"manager.code",label:(0,a.t)("Manager code")},{dataPath:"managers.email",label:(0,a.t)("Any managers email")},{dataPath:"managers.code",label:(0,a.t)("Any managers code")}]},755:function(e,n,t){"use strict";t.d(n,{Q:function(){return i}});var i=function(e){return e.img_preview="img_preview",e.img_1x="img_1x",e.img_2x="img_2x",e.webp="webp",e}({})},1329:function(){}}]);
//# sourceMappingURL=548.5eacda1b.chunk.js.map