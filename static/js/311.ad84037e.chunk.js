"use strict";(self.webpackChunkmia_erp=self.webpackChunkmia_erp||[]).push([[311,495],{8495:function(t,n,e){e.d(n,{SI:function(){return d},VU:function(){return l}});var a,o,i,r=e(168),u=e(3350),l=(0,u.iv)(a||(a=(0,r.Z)(["\n  grid-column: 1/13;\n  grid-row: 1/13;\n"]))),d=(0,u.iv)(o||(o=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n"])));(0,u.iv)(i||(i=(0,r.Z)(["\n  outline: 1px solid tomato;\n"])))},3311:function(t,n,e){e.r(n);var a,o=e(168),i=e(1413),r=e(9439),u=e(8839),l=e(8495),d=e(3350),c=e(2791),v=e(6931),p=e(7348),m=e(758),h=e(2989),s=e(1819),g=e(3665),f=e(3185),w=e(1500),b=e(9953),x=e(3329),D=function(t){return t.Inventories="Inventories",t.Documents="Documents",t.Warehouse="Warehouse",t}(D||{}),y=(0,w.$G)(D),P=d.ZP.div(a||(a=(0,o.Z)(["\n  ","\n"])),l.VU),B=function(){var t=(0,g.f9)();return function(n){var e=n.selectedRow;return[{name:"deleteInventory",icon:"delete",onClick:function(){}},{name:"editInventory",icon:"edit",onClick:function(){}},{name:"addInventory",icon:"plus",type:"onlyIconFilled",onClick:function(){console.log(e),t.open({Modal:f.n.SelectProductModal,props:{onSelect:function(n){t.open({Modal:f.n.FormCreateWarehouseDocument,props:{product:n,title:"Create warehouse document. Offer ".concat(null===n||void 0===n?void 0:n.label)}})}}})}}]}};n.default=function(t){var n=(0,h.Zx)().warehouseId,e=(0,s.xc)()[s.EJ.warehouses].getById,a=(0,p.eO)(),o=B(),l=(0,c.useState)(!1),d=(0,r.Z)(l,2),g=d[0],f=d[1],w=(0,c.useState)(),D=(0,r.Z)(w,2),k=D[0],Z=D[1],C=(0,c.useMemo)((function(){var t,n,e;return{tableData:null===(t=a.current)||void 0===t?void 0:t.inventories,hasFilter:!1,hasSearch:!0,showFooter:!0,checkBoxes:!(null===(n=a.current)||void 0===n||null===(e=n.inventories)||void 0===e||!e.length),actionsCreator:o,onTableSortChange:function(t,n){Z({sortPath:t.dataPath,sortOrder:n})}}}),[o,a]);return(0,c.useEffect)((function(){console.log("sortParams",k),n&&e({data:{_id:n},onLoading:f})}),[n]),(0,x.jsx)(v.default,{path:t.path,children:(0,x.jsxs)(P,{children:[(0,x.jsx)(b.Z,{options:y}),(0,x.jsx)(u.ZP,(0,i.Z)((0,i.Z)({},C),{},{isLoading:g,tableTitles:m.QX}))]})})}},758:function(t,n,e){e.d(n,{A7:function(){return i},QX:function(){return r},fK:function(){return l}});var a=e(3544),o=e(1500),i=[{top:{name:(0,a.t)("label"),getData:function(t){return t.label}},bottom:{name:(0,a.t)("code"),getData:function(t){return t.code}},width:"220px",action:"valueByPath"},{top:{name:(0,a.t)("type"),getData:function(t){return null===t||void 0===t?void 0:t.type}},width:"125px",action:"valueByPath"},{top:{name:(0,a.t)("email"),path:"email"},bottom:{name:(0,a.t)("phone"),path:"phone"},width:"180px",action:"contacts"},{top:{name:(0,a.t)("Address"),getData:function(t){return t.address||"\u043d\u0435 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e"}},bottom:{name:"".concat((0,a.t)("longitude"),"/").concat((0,a.t)("latitude")),getData:function(t){var n,e;return"".concat(((null===(n=t.location)||void 0===n?void 0:n.longitude)||"---")+", "+((null===(e=t.location)||void 0===e?void 0:e.latitude)||"---"))}},width:"175px",action:"valueByPath"},{top:{name:(0,a.t)("Manager"),getData:function(t){var n,e;return"".concat((null===(n=t.manager)||void 0===n||null===(e=n.user)||void 0===e?void 0:e.name)||"---")}},bottom:{name:(0,a.t)("email"),getData:function(t){var n,e;return"".concat((null===(n=t.manager)||void 0===n||null===(e=n.user)||void 0===e?void 0:e.email)||"---")}},width:"150px",action:"valueByPath"},{top:{name:(0,a.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,a.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}],r=[{top:{name:(0,a.t)("variationLabel"),getData:function(t){var n;return null===(n=t.variation)||void 0===n?void 0:n.label}},getImgPreview:function(t){var n,e,a;return null!==(n=t.offer)&&void 0!==n&&n.images?null===(e=t.offer)||void 0===e||null===(a=e.images[0])||void 0===a?void 0:a.img_preview:""},width:"270px",action:"doubleDataWithAvatar"},{top:{name:(0,a.t)("sku"),getData:function(t){var n;return null===(n=t.variation)||void 0===n?void 0:n.sku}},bottom:{name:(0,a.t)("barCode"),getData:function(t){var n;return null===(n=t.variation)||void 0===n?void 0:n.barCode}},width:"200px",action:"valueByPath"},{top:{name:(0,a.t)("type"),path:"type"},bottom:{name:(0,a.t)("status"),path:"status"},width:"120px",action:"status"},{top:{name:"\u041d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c",align:"end",getData:function(t){return t.stock||0}},bottom:{name:"\u0420\u0435\u0437\u0435\u0440\u0432",align:"end",getData:function(t){return t.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:"\u041e\u0447\u0456\u043a\u0443\u0454\u0442\u044c\u0441\u044f",align:"end",getData:function(t){return(null===t||void 0===t?void 0:t.awaiting)||0}},bottom:{name:"\u0412\u0442\u0440\u0430\u0447\u0435\u043d\u043e",align:"end",getData:function(t){return(null===t||void 0===t?void 0:t.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,a.t)("warehouse"),getData:function(t){var n;return null===(n=t.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,a.t)("code"),getData:function(t){var n;return null===(n=t.warehouse)||void 0===n?void 0:n.code}},width:"170px",action:"valueByPath"},{top:{name:"\u041e\u043f\u0438\u0441",path:"description"},width:"190px",action:"valueByPath"},{top:{name:"\u0410\u0432\u0442\u043e\u0440",path:"author.name"},bottom:{name:"\u0415\u043c\u0435\u0439\u043b",path:"author.email"},width:"190px",action:"valueByPath"},{top:{name:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e",align:"center",path:"createdAt"},bottom:{name:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",align:"center",path:"updatedAt"},width:"150px",action:"dateSimple"}],u=[{top:{name:(0,a.t)("Price OUT"),align:"end",getData:function(t){var n;return(0,o.__)(Number((null===t||void 0===t||null===(n=t.price)||void 0===n?void 0:n.in)||0))}},bottom:{name:(0,a.t)("Price IN"),align:"end",getData:function(t){var n;return(0,o.__)(Number((null===t||void 0===t||null===(n=t.price)||void 0===n?void 0:n.out)||0))}},width:"170px",action:"valueByPath"},{top:{name:(0,a.t)("comment"),align:"start",path:"description"},width:"150px",action:"valueByPath"}],l=[{top:{name:(0,a.t)("batch")},width:"150px",action:"valueByPath"},{top:{name:(0,a.t)("warehouse"),getData:function(t){var n;return null===(n=t.warehouse)||void 0===n?void 0:n.label}},bottom:{name:(0,a.t)("code"),getData:function(t){var n;return null===(n=t.warehouse)||void 0===n?void 0:n.code}},width:"170px",action:"valueByPath"},{top:{name:(0,a.t)("Stock"),align:"end",getData:function(t){return t.stock||0}},bottom:{name:(0,a.t)("Reserved"),align:"end",getData:function(t){return t.reserved||0}},width:"150px",action:"valueByPath"},{top:{name:(0,a.t)("Awaiting"),align:"end",getData:function(t){return(null===t||void 0===t?void 0:t.awaiting)||0}},bottom:{name:(0,a.t)("Lost"),align:"end",getData:function(t){return(null===t||void 0===t?void 0:t.lost)||0}},width:"150px",action:"valueByPath"},{top:{name:(0,a.t)("updated"),align:"center",path:"updatedAt"},bottom:{name:(0,a.t)("created"),align:"center",path:"createdAt"},width:"150px",action:"dateSimple"}].concat(u)}}]);
//# sourceMappingURL=311.ad84037e.chunk.js.map