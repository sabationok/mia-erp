"use strict";(self.webpackChunkmia_erp=self.webpackChunkmia_erp||[]).push([[377],{3377:function(e,l,i){i.r(l);var o=i(3433),n=i(1413),a=i(9439),r=i(4925),t=i(8007),s=i(4695),d=i(107),u=i(2791),c=i(2989),v=i(8095),b=i(2911),Z=i(7348),m=i(763),h=i(51),f=i(8050),g=i(9541),x=i(4471),p=i(1500),y=i(9006),j=i(6681),C=i(4990),P=i(389),D=i(7802),S=i(4235),L=i(3329),k=["onSubmit","defaultState"],F=t.object().shape({disabledForClient:t.boolean().optional(),description:t.string().max(250).optional()});l.default=function(e){e.onSubmit;var l,i,t,_,w,M,T=e.defaultState,V=(0,r.Z)(e,k),A=(0,g.J)(),N=(0,b.f)((0,Z.si)().methods,{withFullLabel:!0}),q=(0,h.TL)(),H=(0,u.useState)(d.bp.ua),I=(0,a.Z)(H,2),J=I[0],K=I[1],R=(0,c.hN)({defaultValues:(0,n.Z)({},(0,m.omit)(T,["isDefault","author","owner","editor","parent","value","service"])),resolver:(0,s.X)(F),reValidateMode:"onSubmit"}),X=R.formState.errors,z=R.handleSubmit,B=R.register,E=R.formValues,G=R.setValue,O=R.getFieldState,Q=function(e){var l;return{name:e,value:null===E||void 0===E||null===(l=E.disabledFor)||void 0===l?void 0:l[e],onChange:function(l){G("disabledFor.".concat(e),l,{shouldTouch:!0,shouldDirty:!0})}}},U=function(e){return function(l){var i=e?[e]:void 0,a=e?void 0:["cmsConfigs","invoicingPolicy","paymentPolicy","isDefault","owner","author","editor"],r=i?(0,m.pick)(l,["_id"].concat((0,o.Z)(i))):a?(0,m.omit)(l,a):l;q((0,x.RC)({onLoading:A.onLoading(e||"main"),data:{_id:l._id,data:(0,p.vg)((0,n.Z)({_id:l._id},r))}}))}},W=function(e){var l;return e?{isLoading:null===(l=A.isLoading)||void 0===l?void 0:l[e],canSubmit:O(e).isDirty,onSubmit:z(U(e))}:{isLoading:A.isLoading.main,canSubmit:!0,onSubmit:z(U(e))}};return(0,L.jsxs)(f.Z,{fillHeight:!0,title:V.title,onClose:V.onClose,children:[(0,L.jsxs)(y.h,(0,n.Z)((0,n.Z)({label:(0,d.t)("Main info")},W()),{},{children:[(0,L.jsx)(C.Z,{label:(0,d.t)("label"),error:X.label,required:!(null!==T&&void 0!==T&&T.isDefault),children:(0,L.jsx)(j.ZP,(0,n.Z)((0,n.Z)({placeholder:(0,d.t)("insertLabel")},B("label")),{},{required:!(null!==T&&void 0!==T&&T.isDefault),autoFocus:!(null!==T&&void 0!==T&&T.isDefault)}))}),(0,L.jsx)(C.Z,{label:(0,d.t)("Type"),disabled:null===T||void 0===T?void 0:T.isDefault,children:(0,L.jsx)(j.ZP,(0,n.Z)((0,n.Z)({placeholder:(0,d.t)("Type")},B("type.internal")),{},{disabled:null===T||void 0===T?void 0:T.isDefault}))}),(0,L.jsx)(C.Z,{label:(0,d.t)("Type external"),disabled:null===T||void 0===T?void 0:T.isDefault,children:(0,L.jsx)(j.ZP,(0,n.Z)((0,n.Z)({placeholder:(0,d.t)("Type external")},B("type.external")),{},{disabled:null===T||void 0===T?void 0:T.isDefault}))}),(0,L.jsx)(C.Z,{label:(0,d.t)("Disabled for all"),error:null===X||void 0===X||null===(l=X.disabledFor)||void 0===l?void 0:l.all,children:(0,L.jsx)(P.Z,(0,n.Z)({},Q("all")))}),(0,L.jsx)(C.Z,{label:(0,d.t)("Disabled for customer"),error:null===X||void 0===X||null===(i=X.disabledFor)||void 0===i?void 0:i.customer,children:(0,L.jsx)(P.Z,(0,n.Z)({},Q("customer")))})]})),(0,L.jsx)(y.h,(0,n.Z)((0,n.Z)({label:(0,d.t)("Invoicing")},W("invoicingPolicy")),{},{children:(0,L.jsxs)(v.ZP,{fxDirection:"row",gap:8,children:[(0,L.jsx)(C.Z,{label:(0,d.t)("Min cost for delivery"),error:O("invoicingPolicy.configs.minCost.delivery").error,children:(0,L.jsx)(j.ZP,(0,n.Z)({placeholder:"Min cost",type:"number",align:"center"},B("invoicingPolicy.configs.minCost.delivery",{valueAsNumber:!0})))}),(0,L.jsx)(C.Z,{label:(0,d.t)("Min cost for return"),error:O("invoicingPolicy.configs.minCost.return").error,children:(0,L.jsx)(j.ZP,(0,n.Z)({placeholder:"Min cost",type:"number",align:"center"},B("invoicingPolicy.configs.minCost.return",{valueAsNumber:!0})))})]})})),(0,L.jsx)(y.h,{label:(0,d.t)("Payment"),children:(0,L.jsx)(C.Z,{label:(0,d.t)("Available methods"),children:(0,L.jsx)(D.Z,{options:N,numColumns:1,multiple:!0})})}),(0,L.jsxs)(y.h,(0,n.Z)((0,n.Z)({label:(0,d.t)("Cms params")},W("cmsConfigs")),{},{children:[(0,L.jsx)(C.Z,{label:(0,d.t)("Custom key"),error:null===X||void 0===X||null===(t=X.cmsConfigs)||void 0===t?void 0:t.key,children:(0,L.jsx)(j.ZP,(0,n.Z)({placeholder:"Key"},B("cmsConfigs.key")))}),(0,L.jsx)(C.Z,{label:(0,d.t)("Language key"),error:null===X||void 0===X||null===(_=X.cmsConfigs)||void 0===_?void 0:_.key,children:(0,L.jsx)(S.Z,{disabled:!0,onChange:function(e){K(e)},value:J})}),J&&(0,L.jsx)(C.Z,{disabled:!0,label:(0,d.t)("Label by lang key"),error:null===X||void 0===X||null===(w=X.cmsConfigs)||void 0===w||null===(M=w.labels)||void 0===M?void 0:M[J],children:(0,L.jsx)(j.ZP,(0,n.Z)({disabled:!0,placeholder:"Label"},B("cmsConfigs.labels.".concat(J))))})]}))]})}}}]);
//# sourceMappingURL=377.9777bf7c.chunk.js.map